# Resenha microsserviços 

Link: https://www.martinfowler.com/articles/microservices.html

Microsserviços é um termo utilizado frequentemente e mal-interpretado mais frequentemente ainda no meio da engenharia de software. Em 2014, Martin Folwer já trazia nesse artigo discussões sobre o padrão, e logo no começo já é levantado que ainda não havia uma maneira precisa de definir esse padrão arquitetural. Nessa última década, muito se foi falado e visto sobre microsserviços, e o impacto deles foi com certeza real e duradouro, e como Fowler coloca, esse padrão merece mais do que o olhar desdenhoso que normalmente é dado para tópicos como esse, uma das promessas de “balas de prata” na engenharia de software.

O artigo apresenta uma visão geral sobre o estilo arquitetural de microsserviços, comparando-o com arquiteturas monolíticas e discutindo suas principais características, benefícios e potenciais desvantagens. Os autores definem microsserviços como uma abordagem para desenvolver aplicações como um conjunto de pequenos serviços independentes que se comunicam por meio de mecanismos leves, como APIs HTTP. Cada serviço foca em uma capacidade de negócio específica e pode ser implantado de forma independente. Isso contrasta com aplicações monolíticas, que são construídas como uma única unidade coesa. Ou seja, em vez de um request HTTP bater na API, ser redirecionado para a camada lógica que realiza suas tratativas e talvez acesse/altere dados em um banco de dados centralizado antes de retornar uma resposta única. Já em uma arquitetura de microsserviços, esse request pode trafegar entre diversas APIs menores, gerando outros protocolos de comunicação entre elas e cada uma pode ter controle de sua própria infraestrutura. 

Os principais atributos dos microsserviços incluem a componentização por meio de serviços, que se refere a divisão das aplicações em partes independentes que podem ser implantadas separadamente. Em vez de organizar as aplicações como bibliotecas dentro de um único processo, cada serviço é tratado como um componente autônomo. A estrutura dos serviços é baseada nas capacidades de negócio, com as equipes e serviços definidos em torno de domínios de negócio em vez de serem organizados em camadas técnicas. O desenvolvimento de serviços é visto como produtos duradouros gerenciados por equipes ao longo do tempo, em vez de projetos temporários com prazo determinado. Outro princípio fundamental é manter a lógica de negócios nos serviços e utilizar protocolos de comunicação simples entre eles. Isso é o que os autores descrevem como a ideia de “endpoints inteligentes e pipes simples”.

A capacidade de cada um dos microsserviços se auto-gerenciar dá mais liberdade para as equipes escolherem as tecnologias que melhor se adaptam ao problema, sem precisar seguir um padrão único para toda a organização. Isso também se aplica ao gerenciamento de dados onde cada serviço pode ter seu próprio banco de dados, o que abre a possibilidade de utilizar diferentes tecnologias conforme necessário (por exemplo, um time utilizando um BD NoSQL e outro usando um SQL). Um contraponto dessa descentralização é a maior complexidade operacional. É aí que entra a automação de infraestrutura, essencial para manter tudo funcionando de forma consistente e robusta. Outro ponto importante é que os microsserviços são projetados para lidar bem com falhas. Eles já nascem preparados para enfrentar problemas comuns em sistemas distribuídos, construindo resiliência desde o início. Com essa abordagem, é possível substituir ou atualizar partes individuais sem grandes dores de cabeça, o que facilita a evolução e o desenvolvimento contínuo da aplicação ao longo do tempo. 

Os autores argumentam que os microsserviços oferecem vários benefícios potenciais, como a implantação independente dos serviços, diversidade e flexibilidade tecnológica, isolamento de falhas, escalabilidade de componentes específicos e alinhamento da arquitetura com a estrutura organizacional, além de facilitar a substituição e evolução dos serviços ao longo do tempo. Entretanto, também reconhecem as desvantagens potenciais, como o aumento da complexidade operacional, desafios com a consistência em sistemas distribuídos, dificuldade em refatorar fronteiras de serviços e o risco de criar uma comunicação entre serviços excessivamente complexa. O artigo enfatiza que os microsserviços não são necessariamente a melhor escolha para todas as situações, sugerindo que equipes menos experientes podem enfrentar dificuldades com a complexidade adicional e que, em alguns casos, começar com um monólito bem projetado pode ser mais adequado.
Os autores fazem conexões entre microsserviços e outros conceitos, como a filosofia Unix, Arquitetura Orientada a Serviços (SOA) e Design Orientado por Domínio (DDD). Observam que, embora os microsserviços compartilhem algumas semelhanças com SOA, o termo "SOA" tem sido aplicado a uma ampla variedade de abordagens, tornando útil o uso de um novo termo para descrever esse estilo arquitetural específico. O artigo menciona várias empresas e organizações que adotaram com sucesso os microsserviços, como Amazon, Netflix e o Serviço Digital do Governo do Reino Unido. Contudo, os autores alertam que as consequências a longo prazo desse estilo arquitetural ainda não são totalmente conhecidas, pois leva anos para avaliar o impacto das decisões arquiteturais.

Vale notar que, desde 2014, quando o artigo foi escrito, algumas das empresas citadas como pioneiras na adoção de microsserviços decidiram reverter parte de suas aplicações para monólitos. Isso se deu principalmente devido ao aumento dos custos operacionais e de infraestrutura em ambientes de cloud, uma vez que a gestão de vários serviços independentes, cada um com sua própria instância e banco de dados, pode se tornar extremamente cara. A sobrecarga de comunicação entre serviços e a complexidade de monitoramento e manutenção também contribuíram para que empresas como o Spotify e a Basecamp revisassem sua arquitetura, priorizando monólitos modulares para reduzir gastos e simplificar a gestão dos recursos em nuvem.

Concluindo, os microsserviços indiscutivelmente impactaram a engenharia de software de maneira permanente. Eles trouxeram uma nova abordagem para construir, escalar e gerenciar o desenvolvimento e a infraestrutura, de modo que, mesmo que essa arquitetura deixe de ser utilizada no futuro, os ensinamentos adquiridos continuarão a influenciar as próximas gerações de software. Microsserviços oferecem uma oportunidade de negócio interessante, permitindo a criação de equipes, protocolos, infraestrutura e escolhas tecnológicas especializadas para resolver problemas específicos de maneira eficaz. No entanto, essa flexibilidade vem acompanhada de uma complexidade maior em comparação com aplicações monolíticas, além de um overhead de comunicação significativo, o que exige um cuidado especial na sua implementação e uso.
